window.CarrotSearchFoamTree=function(C){function D(){function m(a,b){n=a;h=b;o(p,h.getOptionMethods);d=o({},h.settings);k()&&window.console.group(h.visualizationName+": initial embedding");r(d,h.reembedinglessSettings,null);d=o({},h.defaults,d);E(n)}function E(a){a.get=F;a.set=G;a.init=m;a.embed=y;a.print=H;a.expandAll=I;a.expand=J;a.collapseAll=K;a.collapse=L;a.saveAsImage=M;a.updateColors=N}function y(a){var b=s(a);l(b,function(c,f){b[c]=encodeURIComponent(f)});k()&&window.console.info("flashvars: ",
b);window.swfobject.embedSWF(d.visualizationSwfLocation,d.id,d.width,d.height,"10.0.0",d.flashPlayerInstallerSwfLocation,b,{wmode:"transparent"},{},function(c){if(c.success){g=c.ref;k()&&window.console.info("element: ",g)}d.onLoad&&d.onLoad.call(z,c.success);k()&&window.console.groupEnd()});a&&k()&&window.console.groupEnd()}function s(a){var b={};l(d,function(c,f){var i=h.jsToSwfPropertyName[c];if(i){c=h.transformers[c]?h.transformers[c].call(this,f,c):f;if(!a||c!==null)b[i]=c}});if(d.groupSizeWeighting==
"score")b.zeroScoreReplacement=-100000;b.onPreinit=t(function(){return s(false)},"preinit");return b}function G(){var a;if(arguments.length!=0){if(arguments.length==1)a=arguments[0];else if(arguments.length==2){a={};a[arguments[0]]=arguments[1]}o(d,a);if(j(a,"dataUrl"))delete d.dataXml;else j(a,"dataXml")&&delete d.dataUrl;k()&&window.console.group(h.visualizationName+": setting options");r(a,h.reembedinglessSettings,null);var b=false;l(a,function(f){if(!h.reembedinglessSettings[f]){b=true;return false}});
if(k()){window.console.info("reload required: ",b);window.console.info("options: ",a)}if(b)if(g&&j(g,"reload")){var c=s(false);k()&&window.console.info("flashvars: ",c);g.reload(c)}else y(false);else{if(j(a,"dataUrl")||j(a,"dataXml"))if(d.dataUrl)g.loadDataFromURL(d.dataUrl);else d.dataXml?g.loadDataFromXML(d.dataXml):g.loadDataFromXML(null);l(O,function(f,i){j(a,f)&&i.call(z,a)})}k()&&window.console.groupEnd()}}function F(){if(arguments.length==0)return d;else{var a=arguments[0];if(a==null)return h.defaults;
var b={};b[a]=true;r(b,p,function(){window.console.group(h.visualizationName+": getting options")});if(j(b,a))if(p[a])return p[a].call(g,arguments[1]);else if(typeof h.defaults[arguments[0]]!=="undefined")return d[arguments[0]]}}function P(a){var b=null,c=a.selection;delete d.selection;if(c!==null){a=Q(c)?c.groups:c;b=u(a)?a:[a]}b!==null?l(b,function(f,i){g.selectGroupById(i,R(c,"selected",true))}):g.clearSelection()}function r(a,b,c){if(h.aliases){var f=false;l(h.aliases,function(i,v){l(v,function(q,
w){if(j(a,q)&&!j(a,w)){a[w]=a[q];if(k()){if(!f){c&&c.apply(this);window.console.group(h.visualizationName+": deprecated option names used");f=true}window.console.warn('Use "'+w+'" instead of "'+q+'". The old option name will stop working in version '+i+".")}delete a[q]}})});if(k()){f&&window.console.groupEnd();c&&window.console.groupEnd()}}l(a,function(i){if(!j(h.defaults,i)&&!j(b,i)){k()&&window.console.warn("Ignoring unknown option: ",i);delete a[i]}})}function o(){for(var a=arguments[0],b=arguments.length,
c=1;c<b;c++){var f=arguments[c];f!=null&&l(f,function(i,v){a[i]=v})}return a}function R(a,b,c){return j(a,b)?a[b]:c}function j(a,b){return typeof a[b]!="undefined"}function l(a,b){var c,f=0,i=a.length;if(i===undefined)for(c in a){if(b.call(a[c],c,a[c])===false)break}else for(;f<i;)if(b.call(a[f],f,a[f++])===false)break;return a}function S(a){return typeof a=="string"&&A[a]?A[a]:"hsv"}function x(a){if(u(a)){var b=[];l(a,function(c,f){b.push(x(f))});return b}if(typeof a=="string"){if(/^0x.*/.test(a))return a;
if(/^#.*/.test(a))return"0x"+a.substring(1);return"0x"+a}else return a}function T(a){return typeof a=="boolean"?!a:a}function U(a){return u(a)?x(a).join(", "):a}function B(a){if(typeof a!=="string")return a;return a.split(/,/)}function V(a,b){return a&&t(function(){return a.apply(n,arguments)},b)}function W(a){return function(b,c){return t(function(){var f=b&&b.apply(n,arguments);return a.call(n,f,c)},c)}}function t(a,b){b="__carrotsearchvisualization__"+d.id.replace(/[^a-zA-Z0-9]/,"")+"__"+b;window[b]=
a;return b}function u(a){return Object.prototype.toString.call(a)=="[object Array]"}function Q(a){return Object.prototype.toString.call(a)=="[object Object]"}function k(){return d.logging&&typeof window.console!="undefined"&&j(window.console,"group")&&j(window.console,"groupEnd")}function X(a){a=g.groupInfo(a);a[1]=B(a[1]);return a}function Y(a){return g.documentInfo(a)}function Z(){return g.modelAsXML()}function $(){return g.documentsPanel(d.documentPanelPosition)}function H(){return g.print()}function I(){return g.expandAll()}
function J(a){return g.setOpen(a,true)}function K(){return g.collapseAll()}function L(a){return g.setOpen(a,false)}function N(){return g.updateColorModel()}function aa(a){return g.getRegion(a)}function M(a){if(!d.echoServiceUrl&&k())window.console.warn("To use saveAsImage() method, set the echoServiceUrl option first.");else return g.saveAsImage(a)}var h,d,z=this,n,g=null;this.init=m;this.negate=T;this.toFlashGroupColorModel=S;this.toHexString=x;this.toStringArray=B;this.colorArrayToString=U;this.toCallbackWithTransformedResult=
W;this.toCallbackOnThisVisualization=V;this.has=j;var O={documentPanelPosition:$,selection:P},p={group:X,document:Y,dataXml:Z,region:aa},A={gradient:"hsv",palette:"palette",custom:"custom"}}var e=new D;e.init(this,{visualizationName:"Carrot Search FoamTree",settings:C,defaults:{id:"foamtree",width:"100%",height:"100%",flashPlayerInstallerSwfLocation:"swf/playerProductInstall.swf",visualizationSwfLocation:"FoamTree.swf",logo:"carrot2",attributionEnabled:true,attributionText:"FoamTree Visualization, \u00a9 Carrot Search s.c.",
attributionUrl:"http://carrotsearch.com/foamtree",dataUrl:null,dataXml:null,logging:false,forceRenderEvent:true,hideMenuItems:false,expandAll:false,backgroundColor:"ff000000",backgroundColorForImageExport:"ff000000",groupColorModel:"gradient",gradientStartColor:"1.0, 0, 1, 0.9",gradientEndColor:"1.0, 0.83, 1, 0.5",gradientLabelDarkColor:"ff101010",gradientLabelLightColor:"ffe0e0e0",gradientLabelColorThreshold:0.35,paletteGroupColors:["ffdddddd","ff333333"],paletteLabelColors:["ff000000","ffffffff"],
customColorCallback:null,groupHoverColor:"40ffffff",groupSelectionColor:"80ffffff",groupSelectionOutlineColor:"d0ffffff",groupOverlayOpacity:0.9,groupOverlayAnimationSpeed:0.5,siblingBorderWidth:1,outsideBorderWidth:4,cornerRoundness:0,minFontSize:2,maxFontSize:72,renderLabelsAsBitmap:false,maxLabelSizeForTitleBar:12,titleBarBackgroundColor:"b0000000",titleBarTextColor:"00ffffff",titleBarTextPaddingTopBottom:15,titleBarTextPaddingLeftRight:20,titleBarMinFontSize:10,titleBarMaxFontSize:40,stripHtmlFromLabels:false,
groupSizeWeighting:"document-count",maxZeroScoreGroupSize:0.1,performRelaxation:true,relaxationAfterResize:true,showLabelsDuringRelaxation:false,maxRelaxationSteps:30,quietRelaxationSteps:0,mapLayoutAlgorithm:"strip",onLoad:null,onInitialize:null,onModelChanged:null,onModelChanging:null,onGroupSelectionChanging:null,onGroupSelectionChanged:null,onGroupHover:null,onGroupOpenOrClose:null,onGroupDoubleClick:null,wallSqueezeThreshold:0.33,echoServiceUrl:null,useEchoServiceForSaveAsMenu:true},aliases:{"1.1.0":{onGroupSelection:"onGroupSelectionChanging",
onModelChange:"onModelChanged"}},reembedinglessSettings:{dataUrl:true,dataXml:true,selection:true},transformers:{backgroundColor:e.toHexString,backgroundColorForImageExport:e.toHexString,groupColorModel:e.toFlashGroupColorModel,gradientLabelDarkColor:e.toHexString,gradientLabelLightColor:e.toHexString,paletteGroupColors:e.colorArrayToString,paletteLabelColors:e.colorArrayToString,customColorCallback:e.toCallbackWithTransformedResult(e.toHexString),groupHoverColor:e.toHexString,groupSelectionColor:e.toHexString,
groupSelectionOutlineColor:e.toHexString,titleBarBackgroundColor:e.toHexString,titleBarTextColor:e.toHexString,logging:e.negate,onInitialize:e.toCallbackOnThisVisualization,onModelChanged:e.toCallbackOnThisVisualization,onModelChanging:e.toCallbackOnThisVisualization,onGroupSelectionChanging:e.toCallbackOnThisVisualization,onGroupSelectionChanged:e.toCallbackOnThisVisualization,onGroupHover:e.toCallbackOnThisVisualization,onGroupOpenOrClose:e.toCallbackOnThisVisualization,onGroupDoubleClick:e.toCallbackOnThisVisualization},
jsToSwfPropertyName:{forceRenderEvent:"forceRenderEvent",hideMenuItems:"hideMenuItems",logo:"logo",attributionEnabled:"attributionEnabled",attributionText:"attributionText",attributionUrl:"attributionUrl",backgroundColor:"gui_backgroundColor",onInitialize:"callback_onInitialized",onModelChanged:"callback_onModelChanged",onModelChanging:"callback_onModelChanging",onGroupSelectionChanging:"callback_onGroupSelection",onGroupSelectionChanged:"callback_onSelectionChanged",onGroupHover:"callback_onGroupHover",
onGroupOpenOrClose:"callback_onGroupOpenOrClosed",onGroupDoubleClick:"callback_onGroupDoubleClick",dataUrl:"startup_data_URL",dataXml:"startup_data_XML",logging:"disableLogging",expandAll:"expandAll",groupColorModel:"gui_colorModel",gradientStartColor:"gui_hsv_start",gradientEndColor:"gui_hsv_end",gradientLabelDarkColor:"gui_hsv_text_dark",gradientLabelLightColor:"gui_hsv_text_light",gradientLabelColorThreshold:"gui_hsv_text_bw_threshold",paletteGroupColors:"gui_palette_nodes",paletteLabelColors:"gui_palette_labels",
customColorCallback:"callback_colorModel",groupHoverColor:"gui_hoverColor",groupSelectionColor:"gui_selectionColor",groupSelectionOutlineColor:"gui_selectedGroupOutline",groupOverlayOpacity:"groupOverlayOpaqueness",groupOverlayAnimationSpeed:"drillFadeSpeed",siblingBorderWidth:"siblingBorderWidth",outsideBorderWidth:"outsideBorderWidth",cornerRoundness:"cornerRoundness",minFontSize:"minFontSize",maxFontSize:"maxFontSize",renderLabelsAsBitmap:"renderLabelsAsBitmap",maxLabelSizeForTitleBar:"minLineHeightForTitleBar",
titleBarBackgroundColor:"gui_titleBarColor",titleBarTextColor:"gui_titleBarTextColor",titleBarTextPaddingTopBottom:"gui_titleBarPaddingV",titleBarTextPaddingLeftRight:"gui_titleBarPaddingH",titleBarMinFontSize:"gui_titleBarMinFontSize",titleBarMaxFontSize:"gui_titleBarMaxFontSize",stripHtmlFromLabels:"stripHtmlFromLabels",groupSizeWeighting:"weightFunction",maxZeroScoreGroupSize:"maxNegativeSizeRatio",performRelaxation:"autostartRelaxation",showLabelsDuringRelaxation:"labelsDuringRelaxation",relaxationAfterResize:"relaxationAfterResize",
maxRelaxationSteps:"maxRelaxationSteps",quietRelaxationSteps:"quietRelaxationSteps",mapLayoutAlgorithm:"mapLayoutAlgorithm",wallSqueezeThreshold:"wallSqueezeThreshold",backgroundColorForImageExport:"backgroundColorForImageExport",echoServiceUrl:"echoServiceURL",useEchoServiceForSaveAsMenu:"useEchoServiceForSaveAsMenu"},getOptionMethods:{selection:function(){var m=this.getSelection();return[e.toStringArray(m[0]),e.toStringArray(m[1])]}}});this.embed(true)};