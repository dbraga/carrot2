window.CarrotSearchCircles=function(C){function D(){function m(a,b){n=a;h=b;o(p,h.getOptionMethods);e=o({},h.settings);k()&&window.console.group(h.visualizationName+": initial embedding");r(e,h.reembedinglessSettings,null);e=o({},h.defaults,e);E(n)}function E(a){a.get=F;a.set=G;a.init=m;a.embed=y;a.print=H;a.expandAll=I;a.expand=J;a.collapseAll=K;a.collapse=L;a.saveAsImage=M;a.updateColors=N}function y(a){var b=s(a);l(b,function(c,f){b[c]=encodeURIComponent(f)});k()&&window.console.info("flashvars: ",
b);window.swfobject.embedSWF(e.visualizationSwfLocation,e.id,e.width,e.height,"10.0.0",e.flashPlayerInstallerSwfLocation,b,{wmode:"transparent"},{},function(c){if(c.success){g=c.ref;k()&&window.console.info("element: ",g)}e.onLoad&&e.onLoad.call(z,c.success);k()&&window.console.groupEnd()});a&&k()&&window.console.groupEnd()}function s(a){var b={};l(e,function(c,f){var i=h.jsToSwfPropertyName[c];if(i){c=h.transformers[c]?h.transformers[c].call(this,f,c):f;if(!a||c!==null)b[i]=c}});if(e.groupSizeWeighting==
"score")b.zeroScoreReplacement=-100000;b.onPreinit=t(function(){return s(false)},"preinit");return b}function G(){var a;if(arguments.length!=0){if(arguments.length==1)a=arguments[0];else if(arguments.length==2){a={};a[arguments[0]]=arguments[1]}o(e,a);if(j(a,"dataUrl"))delete e.dataXml;else j(a,"dataXml")&&delete e.dataUrl;k()&&window.console.group(h.visualizationName+": setting options");r(a,h.reembedinglessSettings,null);var b=false;l(a,function(f){if(!h.reembedinglessSettings[f]){b=true;return false}});
if(k()){window.console.info("reload required: ",b);window.console.info("options: ",a)}if(b)if(g&&j(g,"reload")){var c=s(false);k()&&window.console.info("flashvars: ",c);g.reload(c)}else y(false);else{if(j(a,"dataUrl")||j(a,"dataXml"))if(e.dataUrl)g.loadDataFromURL(e.dataUrl);else e.dataXml?g.loadDataFromXML(e.dataXml):g.loadDataFromXML(null);l(O,function(f,i){j(a,f)&&i.call(z,a)})}k()&&window.console.groupEnd()}}function F(){if(arguments.length==0)return e;else{var a=arguments[0];if(a==null)return h.defaults;
var b={};b[a]=true;r(b,p,function(){window.console.group(h.visualizationName+": getting options")});if(j(b,a))if(p[a])return p[a].call(g,arguments[1]);else if(typeof h.defaults[arguments[0]]!=="undefined")return e[arguments[0]]}}function P(a){var b=null,c=a.selection;delete e.selection;if(c!==null){a=Q(c)?c.groups:c;b=u(a)?a:[a]}b!==null?l(b,function(f,i){g.selectGroupById(i,R(c,"selected",true))}):g.clearSelection()}function r(a,b,c){if(h.aliases){var f=false;l(h.aliases,function(i,v){l(v,function(q,
w){if(j(a,q)&&!j(a,w)){a[w]=a[q];if(k()){if(!f){c&&c.apply(this);window.console.group(h.visualizationName+": deprecated option names used");f=true}window.console.warn('Use "'+w+'" instead of "'+q+'". The old option name will stop working in version '+i+".")}delete a[q]}})});if(k()){f&&window.console.groupEnd();c&&window.console.groupEnd()}}l(a,function(i){if(!j(h.defaults,i)&&!j(b,i)){k()&&window.console.warn("Ignoring unknown option: ",i);delete a[i]}})}function o(){for(var a=arguments[0],b=arguments.length,
c=1;c<b;c++){var f=arguments[c];f!=null&&l(f,function(i,v){a[i]=v})}return a}function R(a,b,c){return j(a,b)?a[b]:c}function j(a,b){return typeof a[b]!="undefined"}function l(a,b){var c,f=0,i=a.length;if(i===undefined)for(c in a){if(b.call(a[c],c,a[c])===false)break}else for(;f<i;)if(b.call(a[f],f,a[f++])===false)break;return a}function S(a){return typeof a=="string"&&A[a]?A[a]:"hsv"}function x(a){if(u(a)){var b=[];l(a,function(c,f){b.push(x(f))});return b}if(typeof a=="string"){if(/^0x.*/.test(a))return a;
if(/^#.*/.test(a))return"0x"+a.substring(1);return"0x"+a}else return a}function T(a){return typeof a=="boolean"?!a:a}function U(a){return u(a)?x(a).join(", "):a}function B(a){if(typeof a!=="string")return a;return a.split(/,/)}function V(a,b){return a&&t(function(){return a.apply(n,arguments)},b)}function W(a){return function(b,c){return t(function(){var f=b&&b.apply(n,arguments);return a.call(n,f,c)},c)}}function t(a,b){b="__carrotsearchvisualization__"+e.id.replace(/[^a-zA-Z0-9]/,"")+"__"+b;window[b]=
a;return b}function u(a){return Object.prototype.toString.call(a)=="[object Array]"}function Q(a){return Object.prototype.toString.call(a)=="[object Object]"}function k(){return e.logging&&typeof window.console!="undefined"&&j(window.console,"group")&&j(window.console,"groupEnd")}function X(a){a=g.groupInfo(a);a[1]=B(a[1]);return a}function Y(a){return g.documentInfo(a)}function Z(){return g.modelAsXML()}function $(){return g.documentsPanel(e.documentPanelPosition)}function H(){return g.print()}function I(){return g.expandAll()}
function J(a){return g.setOpen(a,true)}function K(){return g.collapseAll()}function L(a){return g.setOpen(a,false)}function N(){return g.updateColorModel()}function aa(a){return g.getRegion(a)}function M(a){if(!e.echoServiceUrl&&k())window.console.warn("To use saveAsImage() method, set the echoServiceUrl option first.");else return g.saveAsImage(a)}var h,e,z=this,n,g=null;this.init=m;this.negate=T;this.toFlashGroupColorModel=S;this.toHexString=x;this.toStringArray=B;this.colorArrayToString=U;this.toCallbackWithTransformedResult=
W;this.toCallbackOnThisVisualization=V;this.has=j;var O={documentPanelPosition:$,selection:P},p={group:X,document:Y,dataXml:Z,region:aa},A={gradient:"hsv",palette:"palette",custom:"custom"}}var d=new D;d.init(this,{visualizationName:"Carrot Search Circles",settings:C,defaults:{id:"circles",width:"100%",height:"100%",flashPlayerInstallerSwfLocation:"playerProductInstall.swf",visualizationSwfLocation:"Circles.swf",documentPanelPosition:"AUTO",logo:"carrot2",attributionEnabled:true,attributionText:"Circles Visualization, \u00a9 Carrot Search s.c.",
attributionUrl:"http://carrotsearch.com/circles",dataUrl:null,dataXml:null,logging:false,forceRenderEvent:true,hideMenuItems:false,backgroundColor:"00ffffff",backgroundColorForImageExport:"ffffffff",groupColorModel:"gradient",gradientStartColor:"0.7, 0, 1, 1",gradientEndColor:"0.7, 1, 1, 1",gradientLabelDarkColor:"d0000000",gradientLabelLightColor:"d0c0c0c0",gradientLabelColorThreshold:0.175,paletteGroupColors:["d0ffffff","d0000000"],paletteLabelColors:["d0000000","d0ffffff"],customColorCallback:null,
groupOutlineColor:"40202020",groupHoverColor:"140000e0",groupSelectionColor:"27ff8080",groupSelectionOutlineColor:"ffff8080",expanderColor:"d0ff8888",expanderHoverColor:"e0ff8888",expanderOutlineColor:"00000000",usePerspectiveMapping:false,documentColor:"ff999999",documentSelectionColor:"ff333333",documentTitleElementName:"title",maxVisibleDocuments:400,documentPanelSeparatorWidth:10,openDocumentsOnClick:false,prependDocumentId:true,stripHtmlFromLabels:false,initialRollout:true,expandAll:false,collapsedGroupCount:5,
ringScaling:0.75,minInsideFontSize:2,maxInsideFontSize:72,minOutsideFontSize:2,maxOutsideFontSize:32,groupSizeWeighting:"document-count",maxZeroScoreGroupSize:0.1,upperCaseLabels:true,onLoad:null,onInitialize:null,onModelChanged:null,onModelChanging:null,onGroupSelectionChanging:null,onGroupSelectionChanged:null,onDocumentSelection:null,onGroupHover:null,onGroupOpenOrClose:null,onGroupDoubleClick:null,echoServiceUrl:null,useEchoServiceForSaveAsMenu:true},aliases:{"1.3.0":{circlesSwfLocation:"visualizationSwfLocation",
onModelChange:"onModelChanged",onSliceSelection:"onGroupSelectionChanging",onGroupSelection:"onGroupSelectionChanging",sliceColorModel:"groupColorModel",paletteSliceColors:"paletteGroupColors",sliceOutlineColor:"groupOutlineColor",sliceHoverColor:"groupHoverColor",sliceSelectionColor:"groupSelectionColor",sliceSelectionOutlineColor:"groupSelectionOutlineColor",sliceSizeWeighting:"groupSizeWeighting",maxZeroScoreSliceSize:"maxZeroScoreGroupSize"}},reembedinglessSettings:{documentPanelPosition:true,
dataUrl:true,dataXml:true,selection:true},transformers:{backgroundColor:d.toHexString,backgroundColorForImageExport:d.toHexString,groupOutlineColor:d.toHexString,groupHoverColor:d.toHexString,groupSelectionColor:d.toHexString,groupSelectionOutlineColor:d.toHexString,expanderColor:d.toHexString,expanderHoverColor:d.toHexString,expanderOutlineColor:d.toHexString,documentColor:d.toHexString,documentSelectionColor:d.toHexString,gradientLabelDarkColor:d.toHexString,gradientLabelLightColor:d.toHexString,
paletteGroupColors:d.colorArrayToString,paletteLabelColors:d.colorArrayToString,customColorCallback:d.toCallbackWithTransformedResult(d.toHexString),logging:d.negate,groupColorModel:d.toFlashGroupColorModel,onInitialize:d.toCallbackOnThisVisualization,onModelChanged:d.toCallbackOnThisVisualization,onModelChanging:d.toCallbackOnThisVisualization,onGroupSelectionChanging:d.toCallbackOnThisVisualization,onGroupSelectionChanged:d.toCallbackOnThisVisualization,onDocumentSelection:d.toCallbackOnThisVisualization,
onGroupHover:d.toCallbackOnThisVisualization,onGroupOpenOrClose:d.toCallbackOnThisVisualization,onGroupDoubleClick:d.toCallbackOnThisVisualization},jsToSwfPropertyName:{dataUrl:"startup_data_URL",dataXml:"startup_data_XML",logging:"disableLogging",forceRenderEvent:"forceRenderEvent",hideMenuItems:"hideMenuItems",onInitialize:"callback_onInitialized",onModelChanged:"callback_onModelChanged",onModelChanging:"callback_onModelChanging",onGroupSelectionChanging:"callback_onGroupSelection",onGroupSelectionChanged:"callback_onSelectionChanged",
onDocumentSelection:"callback_onDocumentSelection",onGroupHover:"callback_onGroupHover",onGroupOpenOrClose:"callback_onGroupOpenOrClosed",onGroupDoubleClick:"callback_onGroupDoubleClick",attributionEnabled:"attributionEnabled",attributionText:"attributionText",attributionUrl:"attributionUrl",logo:"logo",backgroundColor:"gui_backgroundColor",groupColorModel:"gui_colorModel",gradientStartColor:"gui_hsv_start",gradientEndColor:"gui_hsv_end",gradientLabelDarkColor:"gui_hsv_text_dark",gradientLabelLightColor:"gui_hsv_text_light",
gradientLabelColorThreshold:"gui_hsv_text_bw_threshold",paletteGroupColors:"gui_palette_nodes",paletteLabelColors:"gui_palette_labels",customColorCallback:"callback_colorModel",groupOutlineColor:"gui_groupOutline",groupHoverColor:"gui_hoverColor",groupSelectionColor:"gui_selectionColor",groupSelectionOutlineColor:"gui_selectedGroupOutline",expanderColor:"gui_expanderColor",expanderHoverColor:"gui_expanderHoverColor",expanderOutlineColor:"gui_expanderOutlineColor",ringScaling:"childSizeMultiplier",
usePerspectiveMapping:"usePerspectiveMapping",documentColor:"gui_documentColor",documentSelectionColor:"gui_selectedDocumentColor",documentTitleElementName:"documentTitleElementName",maxVisibleDocuments:"maxVisibleDocuments",documentPanelSeparatorWidth:"panelSeparator",documentPanelPosition:"documentsPanel",openDocumentsOnClick:"openDocumentsOnClick",prependDocumentId:"prependDocumentId",stripHtmlFromLabels:"stripHtmlFromLabels",initialRollout:"initialRollout",expandAll:"expandAll",collapsedGroupCount:"collapsedGroupCount",
minInsideFontSize:"minInsideFontSize",maxInsideFontSize:"maxInsideFontSize",minOutsideFontSize:"minOutsideFontSize",maxOutsideFontSize:"maxOutsideFontSize",groupSizeWeighting:"weightFunction",maxZeroScoreGroupSize:"maxNegativeSizeRatio",upperCaseLabels:"upperCaseLabels",backgroundColorForImageExport:"backgroundColorForImageExport",echoServiceUrl:"echoServiceURL",useEchoServiceForSaveAsMenu:"useEchoServiceForSaveAsMenu"},getOptionMethods:{selection:function(){var m=this.getSelection();return[d.toStringArray(m[0]),
d.toStringArray(m[1])]}}});this.embed(true)};